---
layout: post
title: 简单的pixiv反代
tags: [pixiv,go,nginx]
---
Pixiv反代的多种搭建方法

## 方案1

### 引用
- https://github.com/Akegarasu/go-pixiv-proxy

### 说明
   一个利用Go反代Pixiv的方案

### 需要
- 一台服务器
- 一个域名[可选]
- 一个脑子

### 使用方法
1.下载适用的版本 [release](https://github.com/Akegarasu/go-pixiv-proxy/releases/)

2.开放18090端口

3.cd到目录运行 ./下载的文件 server

4.使用Systemd,pm2等方法守护进程

5.将域名反向代理到18090端口[博主使用宝塔+nginx]

### 博主の搭建成果
- https://pho.tawertwtc.xyz/

## 方案2

### 说明
一个利用nginx反代pixiv的方案

### 需要
- 一台服务器
- 一个域名[可选]
- 一个脑子

### 使用方法[大佬可以选择不安装宝塔]
1.安装宝塔

2.安装nginx

3.配置nginx

```
proxy_cache_path /path/to/cache levels=1:2 keys_zone=pximg:10m max_size=10g inactive=7d use_temp_path=off;

server {
    listen 443 ssl http2;

    ssl_certificate /path/to/ssl_certificate.crt;
    ssl_certificate_key /path/to/ssl_certificate.key;

    server_name i.pixiv.cat;
    access_log off;

    location / {
    proxy_cache pximg;
    proxy_pass https://i.pximg.net;
    proxy_cache_revalidate on;
    proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;
    proxy_cache_lock on;
    add_header X-Cache-Status $upstream_cache_status;
    proxy_set_header Host i.pximg.net;
    proxy_set_header Referer "https://www.pixiv.net/";

    proxy_cache_valid 200 7d;
    proxy_cache_valid 404 5m;
 }
}
```

4.配置域名

## 方案3

### 说明
无服务器解决方案

### 需要
- Cloudflare账号一个
- 域名一个

### 使用方法
1.新建Workers

2.输入以下代码
```
export default {
  async fetch(request) {
    const url = new URL(request.url);
    url.hostname = 'i.pximg.net';

    const proxyRequest = new Request(url, request);
    proxyRequest.headers.set('Referer', 'https://www.pixiv.net/');

    return fetch(proxyRequest);
  },
};
```
3.提交/配置域名

## 方案4

### 说明
直接调用博主的
   
